UPDATE RFIDDATA.WG_SWXX T3 SET STATE = '1',IS_LOCK = '2' ,
IN_DATE = '2020-06-09',
IN_NUM = ( (SELECT COUNT(*) FROM WG_ACCOUNT_ALTERSEAL T1 WHERE T1.RFID_CODE = T3.RFID_CODE AND
 (T1.STATE = '02' OR T1.STATE = '03' OR T1.STATE = '04')) +
 (SELECT COUNT(*)
 FROM WG_ACCOUNT_MEANS T2
 WHERE T2.RFID_CODE = T3.RFID_CODE AND (T2.STATE = '02' OR T2.STATE = '04'))),
 DATA_NUM = ( (SELECT COUNT(*) FROM WG_ACCOUNT_ALTERSEAL T1 WHERE T1.RFID_CODE = T3.RFID_CODE) +
 (SELECT COUNT(*) FROM WG_ACCOUNT_MEANS T2 WHERE T2.RFID_CODE = T3.RFID_CODE) ),
 OUT_NUM = ( (SELECT COUNT(*) FROM WG_ACCOUNT_ALTERSEAL T1 WHERE T1.RFID_CODE = T3.RFID_CODE AND (T1.STATE = '05' OR T1.STATE = '06' OR T1.STATE = '01')) +
  (SELECT COUNT(*) FROM WG_ACCOUNT_MEANS T2 WHERE T2.RFID_CODE = T3.RFID_CODE AND (T2.STATE = '01' OR T2.STATE = '03' OR T2.STATE = '05')) ) WHERE T3.RFID_CODE IN('020203000120110420002','020203000120130312003','020203000120130516002','021103000120130510001','023103000120120409001','023103000120120612001','023103000120140417001','023403000120150710014','023903000120150717001','230103000120140825016','230203000120150923002','230703000120141223001','023403000120160808014','023803000120160918001','023403000120190325006','230203000120191126001','023403000120160601011','023103000120160617002','023403000120151121012','023403000120160315003')]